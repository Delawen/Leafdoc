
# Leafdoc


Leafdoc (or 🍂📄 for short) is a NaturalDocs- and JSdoc-like documentation generator.

Leafdoc's goals are to help produce documentation which is:
* **Concise**: If you need half a page to describe what a function does, then Leafdoc is probably not for you.
* **Non-intrusive**: Allow devs to write the minimum possible amount of documentation lines. A two-line function shouldn't need 15 lines of docs.
* **Narrative**: Forget about exhaustive code introspection, and focus into providing human-readable explanations and per-class code examples using Markdown to do the heavy lifting.


## Try


See [Leafdoc's documentation as generated by Leafdoc](http://ivansanchez.github.io/Leafdoc/doc.html), or a test of [partial Leaflet documentation as generated by Leafdoc](http://ivansanchez.github.io/Leafdoc/Leaflet-docs.html).


### Try it yourself

```
git clone [...]
npm install
js test.js > leafdoc.html
```


## Write

The syntax is pretty much the tried-and-true directives-in-comment-blocks from JSdoc, NaturalDocs and a gazilion others. But instead of an `@` symbol, Leafdoc uses a leaf:

```
/*
 * 🍂method addDir, this
 * 🍂param dirname, String
 * 🍂param extension, String
 *
 * Recursively scans a directory, and parses any files that match the given `extension`
 */
```


### Valid directives

* `🍂class` and `🍂namespace` should be at the top of your files. They define the context of the rest of the directives. A namespace can be used in more than one file (for example, when plugging more functionality to an existing class).
* `🍂example` lets some space to demonstrate how the class / namespace is meant to be used.
* `🍂section` allows you to group several functions, events, methods or options together, thematically.
* Methods, functions, options, etc are a generic thing internally named "documentable":
	* `🍂method (name), (return type)`
		* Has zero or more `🍂param (name), (type)`
	* `🍂function (name), (return type)`
		* Has zero or more `🍂param (name), (type)`
	* `🍂factory (name)`
		* Has zero or more `🍂param (name), (type)`
	* `🍂option (name), (type), (default value)`
	* `🍂event (name), (type)`
* Classes, namespaces and documentables can have `🍂aka (alternative name)`, (short for Also Known As). This allows to create links to the same thing using different names.
* Anything can have several `🍂comment`s, exmplaining the thing. The `🍂comment` directive can be ommited, because any line without an explicit directive equals to one (but only for comment blocks that already have a 🍂 directive - non-🍂 blocks are ignored).
* If a function (or any other documentable) has several alternative uses, use the `🍂alternative` directive after to re-defining the documentable, e.g.:
  ```
  /*
  🍂method on, this
  🍂param type, String
  🍂param fn, Function
  Adds the function `fn` as an event handler for the `type` event.

  🍂alternative
  🍂param fnMap, Object
  Adds a set of type/listener pairs, e.g. `{click: onClick, mousemove: onMouseMove}`.
  */
  ```
  In this example, the two alternatives are `on(type, fn)` and `on(fnMap)`. They will be shown as two different documentables.
* `🍂inherits` means that a class or namespace inherits all documentables from another class or namespace.



### Customization

At some point in the future it shall be easy to use a different set of `handlebars` templates.


## Troubleshooting

### I'm using Debian and I cannot see the leaf character!

Run `apt-get install ttf-ancient-fonts` and don't ask why the fallback file for emojis is packaged as "ancient fonts".

### I cannot type 🍂 in my keyboard!

(Linux only) Write this into a plain text file:

```
keycode  46 = l L l L U1F342 Lstroke lstroke
```

Then run `xmodmap name-of-the-file`. Now 🍂 is mapped to `AltGr+l`.
